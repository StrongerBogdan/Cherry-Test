package WfFOicBMPs8f8M35Q4qSm9wyBA5M8xEyrmSiMx4ZwtKzFOGHcU03ZgPlHFNOzIl;

import JYJjVrtoNPH0ZPVFuXUUUodrW1lMAjpTvOe744s6s17UKUwuiHWN7QnbHz0A94mKrW23YzpGAZQ1TBH6hRnR.pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.content.pm.ResolveInfo;
import android.content.pm.ServiceInfo;
import android.os.Bundle;
import android.os.RemoteException;
import com.android.installreferrer.api.InstallReferrerClient;
import com.android.installreferrer.api.InstallReferrerStateListener;
import com.android.installreferrer.api.ReferrerDetails;
import j5srzFTCYRONYnZIBGzqiJVwO1fMBQfJnPzVkK7bmQ1PULX4J2QEICJyrHzAcq80w9PrzIPL6HfZW5YMw8qMwu4MvHaL2bFgv1DxGkUQhl8qH14E4t9UkVmzzz9h5nf0R9yV1FhNzGL6YsCreKGdXl.FGrvCTY9aqtjVPkeckAZZbvRrR6Fir62RvUi5CYJVOsGK;
import j5srzFTCYRONYnZIBGzqiJVwO1fMBQfJnPzVkK7bmQ1PULX4J2QEICJyrHzAcq80w9PrzIPL6HfZW5YMw8qMwu4MvHaL2bFgv1DxGkUQhl8qH14E4t9UkVmzzz9h5nf0R9yV1FhNzGL6YsCreKGdXl.wXB0QvqHSWUl8vRXKkBslrNk5URNK8U0eO1KlvjtK4Di22c3qVSzWTiPoK8KpPAIJvk9i3Qm8JFJlcAW8QTbLEiuJz8Cr;
import java.util.List;

public final class LKFldPfJcfBOZk1ncAfiSAO9DSiHzm0uqAwf7xsiw0paTNGoPF04cSy0FnCarywzMgv3IbA extends InstallReferrerClient {
    public FGrvCTY9aqtjVPkeckAZZbvRrR6Fir62RvUi5CYJVOsGK DrqQ8C7rtVRDTSclHGsDImq;
    public int P6WU5Fb80VNGO5Et4Io8BBRMy5iYWzEMiOWjFQ6aC1H5bM4J2Re3zDKrWeh8bMHmbdtoHUf6AF0k9EVEcdtch1VlBNZCDNBHyq8pJxCnCnBKiHKrl8ianGdd8GWwoH0w5UEx6qiiTrAdRWvKBvkoKS24HXJp2d = 0;
    public wXB0QvqHSWUl8vRXKkBslrNk5URNK8U0eO1KlvjtK4Di22c3qVSzWTiPoK8KpPAIJvk9i3Qm8JFJlcAW8QTbLEiuJz8Cr VEYmeyCFoRLjkmCxEb3wL7OVAF7pTlbwD8LmwrlOYz0mwEU;
    public final Context YmFIHVAy6MFnHbke10dLWI57IXCp;

    public LKFldPfJcfBOZk1ncAfiSAO9DSiHzm0uqAwf7xsiw0paTNGoPF04cSy0FnCarywzMgv3IbA(Context context) {
        this.YmFIHVAy6MFnHbke10dLWI57IXCp = context.getApplicationContext();
    }

    public final void endConnection() {
        this.P6WU5Fb80VNGO5Et4Io8BBRMy5iYWzEMiOWjFQ6aC1H5bM4J2Re3zDKrWeh8bMHmbdtoHUf6AF0k9EVEcdtch1VlBNZCDNBHyq8pJxCnCnBKiHKrl8ianGdd8GWwoH0w5UEx6qiiTrAdRWvKBvkoKS24HXJp2d = 3;
        if (this.VEYmeyCFoRLjkmCxEb3wL7OVAF7pTlbwD8LmwrlOYz0mwEU != null) {
            pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.KuMLRtD4scagfuKYzrfFYyuj3QoaBJVSDE1P6onajqLjhrcGts2K061tBVnyMMYgyK5dDIdCzTPYDtbZ0j9J9rfG51wlD1GFbiBGX3JMz3tnvI("Unbinding from service.");
            this.YmFIHVAy6MFnHbke10dLWI57IXCp.unbindService(this.VEYmeyCFoRLjkmCxEb3wL7OVAF7pTlbwD8LmwrlOYz0mwEU);
            this.VEYmeyCFoRLjkmCxEb3wL7OVAF7pTlbwD8LmwrlOYz0mwEU = null;
        }
        this.DrqQ8C7rtVRDTSclHGsDImq = null;
    }

    public final ReferrerDetails getInstallReferrer() {
        if (this.P6WU5Fb80VNGO5Et4Io8BBRMy5iYWzEMiOWjFQ6aC1H5bM4J2Re3zDKrWeh8bMHmbdtoHUf6AF0k9EVEcdtch1VlBNZCDNBHyq8pJxCnCnBKiHKrl8ianGdd8GWwoH0w5UEx6qiiTrAdRWvKBvkoKS24HXJp2d != 2 || this.DrqQ8C7rtVRDTSclHGsDImq == null || this.VEYmeyCFoRLjkmCxEb3wL7OVAF7pTlbwD8LmwrlOYz0mwEU == null) {
            throw new IllegalStateException("Service not connected. Please start a connection before using the service.");
        }
        Bundle bundle = new Bundle();
        bundle.putString("package_name", this.YmFIHVAy6MFnHbke10dLWI57IXCp.getPackageName());
        try {
            return new ReferrerDetails(((wXB0QvqHSWUl8vRXKkBslrNk5URNK8U0eO1KlvjtK4Di22c3qVSzWTiPoK8KpPAIJvk9i3Qm8JFJlcAW8QTbLEiuJz8Cr) this.DrqQ8C7rtVRDTSclHGsDImq).YmFIHVAy6MFnHbke10dLWI57IXCp(bundle));
        } catch (RemoteException e) {
            pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.Gch8cE0rnMJkANF5GjW4e47SNVyRfzoY7AiD42T3gi64tlksdzRfe3IftjC4onsNQzbkDJATF748HjhGLkN2OxmDTFaLImzAxOR5pAz3cmxJTzZ9m("RemoteException getting install referrer information");
            this.P6WU5Fb80VNGO5Et4Io8BBRMy5iYWzEMiOWjFQ6aC1H5bM4J2Re3zDKrWeh8bMHmbdtoHUf6AF0k9EVEcdtch1VlBNZCDNBHyq8pJxCnCnBKiHKrl8ianGdd8GWwoH0w5UEx6qiiTrAdRWvKBvkoKS24HXJp2d = 0;
            throw e;
        }
    }

    public final void startConnection(InstallReferrerStateListener installReferrerStateListener) {
        ServiceInfo serviceInfo;
        int i = this.P6WU5Fb80VNGO5Et4Io8BBRMy5iYWzEMiOWjFQ6aC1H5bM4J2Re3zDKrWeh8bMHmbdtoHUf6AF0k9EVEcdtch1VlBNZCDNBHyq8pJxCnCnBKiHKrl8ianGdd8GWwoH0w5UEx6qiiTrAdRWvKBvkoKS24HXJp2d;
        if ((i != 2 || this.DrqQ8C7rtVRDTSclHGsDImq == null || this.VEYmeyCFoRLjkmCxEb3wL7OVAF7pTlbwD8LmwrlOYz0mwEU == null) ? false : true) {
            pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.KuMLRtD4scagfuKYzrfFYyuj3QoaBJVSDE1P6onajqLjhrcGts2K061tBVnyMMYgyK5dDIdCzTPYDtbZ0j9J9rfG51wlD1GFbiBGX3JMz3tnvI("Service connection is valid. No need to re-initialize.");
            installReferrerStateListener.onInstallReferrerSetupFinished(0);
        } else if (i == 1) {
            pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.Gch8cE0rnMJkANF5GjW4e47SNVyRfzoY7AiD42T3gi64tlksdzRfe3IftjC4onsNQzbkDJATF748HjhGLkN2OxmDTFaLImzAxOR5pAz3cmxJTzZ9m("Client is already in the process of connecting to the service.");
            installReferrerStateListener.onInstallReferrerSetupFinished(3);
        } else if (i == 3) {
            pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.Gch8cE0rnMJkANF5GjW4e47SNVyRfzoY7AiD42T3gi64tlksdzRfe3IftjC4onsNQzbkDJATF748HjhGLkN2OxmDTFaLImzAxOR5pAz3cmxJTzZ9m("Client was already closed and can't be reused. Please create another instance.");
            installReferrerStateListener.onInstallReferrerSetupFinished(3);
        } else {
            pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.KuMLRtD4scagfuKYzrfFYyuj3QoaBJVSDE1P6onajqLjhrcGts2K061tBVnyMMYgyK5dDIdCzTPYDtbZ0j9J9rfG51wlD1GFbiBGX3JMz3tnvI("Starting install referrer service setup.");
            Intent intent = new Intent("com.google.android.finsky.BIND_GET_INSTALL_REFERRER_SERVICE");
            intent.setComponent(new ComponentName("com.android.vending", "com.google.android.finsky.externalreferrer.GetInstallReferrerService"));
            Context context = this.YmFIHVAy6MFnHbke10dLWI57IXCp;
            List<ResolveInfo> queryIntentServices = context.getPackageManager().queryIntentServices(intent, 0);
            if (queryIntentServices == null || queryIntentServices.isEmpty() || (serviceInfo = queryIntentServices.get(0).serviceInfo) == null) {
                this.P6WU5Fb80VNGO5Et4Io8BBRMy5iYWzEMiOWjFQ6aC1H5bM4J2Re3zDKrWeh8bMHmbdtoHUf6AF0k9EVEcdtch1VlBNZCDNBHyq8pJxCnCnBKiHKrl8ianGdd8GWwoH0w5UEx6qiiTrAdRWvKBvkoKS24HXJp2d = 0;
                pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.KuMLRtD4scagfuKYzrfFYyuj3QoaBJVSDE1P6onajqLjhrcGts2K061tBVnyMMYgyK5dDIdCzTPYDtbZ0j9J9rfG51wlD1GFbiBGX3JMz3tnvI("Install Referrer service unavailable on device.");
                installReferrerStateListener.onInstallReferrerSetupFinished(2);
                return;
            }
            String str = serviceInfo.packageName;
            String str2 = serviceInfo.name;
            if ("com.android.vending".equals(str) && str2 != null) {
                try {
                    if (context.getPackageManager().getPackageInfo("com.android.vending", 128).versionCode >= 80837300) {
                        Intent intent2 = new Intent(intent);
                        wXB0QvqHSWUl8vRXKkBslrNk5URNK8U0eO1KlvjtK4Di22c3qVSzWTiPoK8KpPAIJvk9i3Qm8JFJlcAW8QTbLEiuJz8Cr wxb0qvqhswul8vrxkkbslrnk5urnk8u0eo1klvjtk4di22c3qvszwtipok8kppaijvk9i3qm8jfjlcaw8qtbleiujz8cr = new wXB0QvqHSWUl8vRXKkBslrNk5URNK8U0eO1KlvjtK4Di22c3qVSzWTiPoK8KpPAIJvk9i3Qm8JFJlcAW8QTbLEiuJz8Cr(this, installReferrerStateListener);
                        this.VEYmeyCFoRLjkmCxEb3wL7OVAF7pTlbwD8LmwrlOYz0mwEU = wxb0qvqhswul8vrxkkbslrnk5urnk8u0eo1klvjtk4di22c3qvszwtipok8kppaijvk9i3qm8jfjlcaw8qtbleiujz8cr;
                        try {
                            if (context.bindService(intent2, wxb0qvqhswul8vrxkkbslrnk5urnk8u0eo1klvjtk4di22c3qvszwtipok8kppaijvk9i3qm8jfjlcaw8qtbleiujz8cr, 1)) {
                                pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.KuMLRtD4scagfuKYzrfFYyuj3QoaBJVSDE1P6onajqLjhrcGts2K061tBVnyMMYgyK5dDIdCzTPYDtbZ0j9J9rfG51wlD1GFbiBGX3JMz3tnvI("Service was bonded successfully.");
                                return;
                            }
                            pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.Gch8cE0rnMJkANF5GjW4e47SNVyRfzoY7AiD42T3gi64tlksdzRfe3IftjC4onsNQzbkDJATF748HjhGLkN2OxmDTFaLImzAxOR5pAz3cmxJTzZ9m("Connection to service is blocked.");
                            this.P6WU5Fb80VNGO5Et4Io8BBRMy5iYWzEMiOWjFQ6aC1H5bM4J2Re3zDKrWeh8bMHmbdtoHUf6AF0k9EVEcdtch1VlBNZCDNBHyq8pJxCnCnBKiHKrl8ianGdd8GWwoH0w5UEx6qiiTrAdRWvKBvkoKS24HXJp2d = 0;
                            installReferrerStateListener.onInstallReferrerSetupFinished(1);
                            return;
                        } catch (SecurityException unused) {
                            pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.Gch8cE0rnMJkANF5GjW4e47SNVyRfzoY7AiD42T3gi64tlksdzRfe3IftjC4onsNQzbkDJATF748HjhGLkN2OxmDTFaLImzAxOR5pAz3cmxJTzZ9m("No permission to connect to service.");
                            this.P6WU5Fb80VNGO5Et4Io8BBRMy5iYWzEMiOWjFQ6aC1H5bM4J2Re3zDKrWeh8bMHmbdtoHUf6AF0k9EVEcdtch1VlBNZCDNBHyq8pJxCnCnBKiHKrl8ianGdd8GWwoH0w5UEx6qiiTrAdRWvKBvkoKS24HXJp2d = 0;
                            installReferrerStateListener.onInstallReferrerSetupFinished(4);
                            return;
                        }
                    }
                } catch (PackageManager.NameNotFoundException unused2) {
                }
            }
            pnRcNvXIZBKf6Ep5VEXE7zHQNmXYeUdPT0ndFSYuniLGUNJLl1.Gch8cE0rnMJkANF5GjW4e47SNVyRfzoY7AiD42T3gi64tlksdzRfe3IftjC4onsNQzbkDJATF748HjhGLkN2OxmDTFaLImzAxOR5pAz3cmxJTzZ9m("Play Store missing or incompatible. Version 8.3.73 or later required.");
            this.P6WU5Fb80VNGO5Et4Io8BBRMy5iYWzEMiOWjFQ6aC1H5bM4J2Re3zDKrWeh8bMHmbdtoHUf6AF0k9EVEcdtch1VlBNZCDNBHyq8pJxCnCnBKiHKrl8ianGdd8GWwoH0w5UEx6qiiTrAdRWvKBvkoKS24HXJp2d = 0;
            installReferrerStateListener.onInstallReferrerSetupFinished(2);
        }
    }
}
